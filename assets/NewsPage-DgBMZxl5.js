import{j as e,a5 as c,o as j,a6 as N,Y as f,a0 as g}from"./ui-D0xe242P.js";import{h as p,r,L as i}from"./vendor-BjZ8KmgX.js";function b(t){try{return new URL(t).hostname.replace(/^www\./,"")}catch{return t}}const v=()=>{const{slug:t}=p(),[a,o]=r.useState(null),[d,m]=r.useState(!1);r.useEffect(()=>{t&&fetch(`/press/${t}.json`).then(s=>{if(!s.ok)throw new Error("Archivo no encontrado");return s.json()}).then(s=>o(s)).catch(()=>m(!0))},[t]);const n=r.useMemo(()=>(a?.media||[]).filter(s=>s.type==="youtube"&&!!s.id),[a]);if(d)return e.jsxs("div",{className:"container py-5 text-center",children:[e.jsx("h3",{className:"text-danger mb-3",children:"Noticia no encontrada"}),e.jsx("div",{className:"d-flex",children:e.jsxs(i,{to:"/noticias",className:"btn btn-outline-success mb-3 d-flex flex-row align-items-center",children:[e.jsx(c,{size:18,className:"me-2"}),"Volver a todas las noticias"]})})]});if(!a)return e.jsx("div",{className:"container py-5 text-center",children:e.jsx("p",{className:"text-muted",children:"Cargando noticia..."})});function x(s){const[l,h,u]=s.split("-").map(Number);return new Date(l,h-1,u)}return e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex",children:e.jsxs(i,{to:"/noticias",className:"btn btn-outline-success mb-3 d-flex flex-row align-items-center",children:[e.jsx(c,{size:18,className:"me-2"}),"Volver a todas las noticias"]})}),e.jsx("h1",{className:"fw-bold",children:a.title}),e.jsx("h4",{className:"text-muted mb-3",children:a.subtitle}),e.jsxs("div",{className:"d-flex align-items-center gap-3 text-muted mb-3",children:[e.jsx("span",{className:"badge bg-success",children:a.category}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(j,{size:18}),e.jsx("span",{className:"small",children:x(a.date).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]})]}),e.jsx("div",{className:"rounded-4 overflow-hidden shadow-lg mb-4",children:e.jsx("img",{src:a.image,alt:a.title,className:"w-100"})}),e.jsx("div",{className:"lead",dangerouslySetInnerHTML:{__html:a.htmlContent}}),n.length>0&&e.jsxs("section",{className:"mt-5",children:[e.jsxs("h5",{className:"fw-bold d-flex align-items-center gap-2 mb-3",children:[e.jsx(N,{size:20}),"Media"]}),e.jsx("div",{className:"row g-4",children:n.map((s,l)=>e.jsxs("div",{className:"col-12 col-md-6",children:[e.jsx("div",{className:"ratio ratio-16x9 rounded-4 shadow",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${s.id}?rel=0`,title:s.title||`video-${l+1}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-4"})}),s.title&&e.jsx("p",{className:"mt-2 text-muted small",children:s.title})]},`${s.id}-${l}`))})]}),!!a.externalLinks?.length&&e.jsxs("section",{className:"mt-5",children:[e.jsxs("h5",{className:"fw-bold d-flex align-items-center gap-2 mb-3",children:[e.jsx(f,{size:20}),"Enlaces externos"]}),e.jsx("ul",{className:"list-unstyled",children:a.externalLinks.map((s,l)=>e.jsx("li",{className:"mb-2",children:e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"link-success",children:s.label||b(s.url)})},`${s.url}-${l}`))})]}),a.docFile&&e.jsx("div",{className:"mt-5 d-flex",children:e.jsxs("a",{href:a.docFile,download:!0,className:"btn btn-success d-flex align-items-center",children:[e.jsx(g,{size:18,className:"me-2"}),"Descargar gacetilla"]})})]})};export{v as default};
