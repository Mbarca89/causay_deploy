import{j as e,a5 as c,o as w,a6 as g,Y as y,a0 as v}from"./ui-D0xe242P.js";import{h as k,r,L as i}from"./vendor-BjZ8KmgX.js";function L(l){try{return new URL(l).hostname.replace(/^www\./,"")}catch{return l}}const F=()=>{const{slug:l}=k(),[a,o]=r.useState(null),[d,m]=r.useState(!1);r.useEffect(()=>{l&&fetch(`/press/${l}.json`).then(s=>{if(!s.ok)throw new Error("Archivo no encontrado");return s.json()}).then(s=>o(s)).catch(()=>m(!0))},[l]);const n=r.useMemo(()=>a?.media||[],[a]),x=n.length>0,u=s=>s.type==="youtube",h=s=>s.type==="facebook",j=r.useMemo(()=>n.filter(u),[n]),f=r.useMemo(()=>n.filter(h),[n]);if(d)return e.jsxs("div",{className:"container py-5 text-center",children:[e.jsx("h3",{className:"text-danger mb-3",children:"Noticia no encontrada"}),e.jsx("div",{className:"d-flex",children:e.jsxs(i,{to:"/noticias",className:"btn btn-outline-success mb-3 d-flex flex-row align-items-center",children:[e.jsx(c,{size:18,className:"me-2"}),"Volver a todas las noticias"]})})]});if(!a)return e.jsx("div",{className:"container py-5 text-center",children:e.jsx("p",{className:"text-muted",children:"Cargando noticia..."})});function p(s){const[t,b,N]=s.split("-").map(Number);return new Date(t,b-1,N)}return e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex",children:e.jsxs(i,{to:"/noticias",className:"btn btn-outline-success mb-3 d-flex flex-row align-items-center",children:[e.jsx(c,{size:18,className:"me-2"}),"Volver a todas las noticias"]})}),e.jsx("h1",{className:"fw-bold",children:a.title}),e.jsx("h4",{className:"text-muted mb-3",children:a.subtitle}),e.jsxs("div",{className:"d-flex align-items-center gap-3 text-muted mb-3",children:[e.jsx("span",{className:"badge bg-success",children:a.category}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(w,{size:18}),e.jsx("span",{className:"small",children:p(a.date).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]})]}),e.jsx("div",{className:"rounded-4 overflow-hidden shadow-lg mb-4",children:e.jsx("img",{src:a.image,alt:a.title,className:"w-100"})}),e.jsx("div",{className:"lead",dangerouslySetInnerHTML:{__html:a.htmlContent}}),x&&e.jsxs("section",{className:"mt-5",children:[e.jsxs("h5",{className:"fw-bold d-flex align-items-center gap-2 mb-3",children:[e.jsx(g,{size:20}),"Media"]}),e.jsxs("div",{className:"row g-4",children:[j.map((s,t)=>e.jsxs("div",{className:"col-12 col-md-6",children:[e.jsx("div",{className:"ratio ratio-16x9 rounded-4 shadow",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${s.id}?rel=0`,title:s.title||`video-${t+1}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-4"})}),s.title&&e.jsx("p",{className:"mt-2 text-muted small",children:s.title})]},`${s.id}-${t}`)),f.map((s,t)=>e.jsxs("div",{className:"col-12",children:[e.jsx("div",{className:"ratio ratio-16x9 rounded-4 shadow mb-2",children:e.jsx("iframe",{src:`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(s.url)}&show_text=false&width=1280`,title:s.title||`facebook-${t+1}`,style:{border:"none",overflow:"hidden"},scrolling:"no",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0})}),e.jsx("a",{className:"btn btn-outline-success",href:s.url,target:"_blank",rel:"noreferrer",children:"Ver en Facebook"})]},t))]})]}),!!a.externalLinks?.length&&e.jsxs("section",{className:"mt-5",children:[e.jsxs("h5",{className:"fw-bold d-flex align-items-center gap-2 mb-3",children:[e.jsx(y,{size:20}),"Enlaces externos"]}),e.jsx("ul",{className:"list-unstyled",children:a.externalLinks.map((s,t)=>e.jsx("li",{className:"mb-2",children:e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"link-success",children:s.label||L(s.url)})},`${s.url}-${t}`))})]}),a.docFile&&e.jsx("div",{className:"mt-5 d-flex",children:e.jsxs("a",{href:a.docFile,download:!0,className:"btn btn-success d-flex align-items-center",children:[e.jsx(v,{size:18,className:"me-2"}),"Descargar gacetilla"]})})]})};export{F as default};
